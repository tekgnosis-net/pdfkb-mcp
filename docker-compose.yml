# Docker Compose Sample Configuration for pdfkb-mcp MCP Server
# Copy this file to docker-compose.yml and customize the configuration for your environment

#version: '3.8'

services:
  pdfkb-mcp:
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­ЪћД IMAGE & CONTAINER CONFIGURATION
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    # By default pull the prebuilt image from GitHub Container Registry (GHCR).
    # You can override the image by setting the PDFKB_IMAGE env var in your
    # environment or in an override file.
    # Use the prebuilt image that includes parser extras (marker, mineru, docling, pymupdf4llm).
    # For the single combined image we publish from CI use the `:latest` tag.
    # Keep this file local (do not commit secrets). You can override with
    # an environment variable or an override file if desired.
    image: ghcr.io/tekgnosis-net/pdfkb-mcp:latest

    # If you prefer to build from source instead of pulling the GHCR image,
    # uncomment the build block below and remove/override the `image:` line.
    # build:
    #   context: .
    #   dockerfile: Dockerfile
    #   args:
    #     PDF_PARSER: marker
    #     USE_CUDA: "true"
    #     PDFKB_VERSION: ${PDFKB_VERSION:-latest}

    container_name: pdfkb-mcp-server
    restart: unless-stopped

    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­Ъїљ PORT CONFIGURATION
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    ports:
      # Unified server port (Web interface + MCP endpoints)
      - "9000:8000"

      # Alternative port mapping (optional)
      # - "8080:8000"

    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­ЪњЙ VOLUME MOUNTS
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    volumes:
      # ­ЪЊЂ Documents Directory - Mount your PDF/Markdown collection here
      # CHANGE THIS PATH to point to your documents folder
      - "/home/kumar/By-Release:/app/documents:rw"

      # ­Ъњй Cache Directory - Persistent storage for ChromaDB, embeddings, and processing cache
      - "pdfkb-cache:/app/cache"

      # ­ЪЊІ Logs Directory - Container logs (optional)
      - "pdfkb-logs:/app/logs"

      # РџЎ№ИЈ  Configuration Directory - Custom config files (optional)
      # - "${PDFKB_CONFIG_PATH:-./config}:/app/config:ro"

    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­ЪћД ENVIRONMENT CONFIGURATION
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    environment:
      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­ЪЈа CORE PATHS & STORAGE                                                              Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # Path to your document collection inside the container
      PDFKB_KNOWLEDGEBASE_PATH: "/app/documents"

      # Cache directory for ChromaDB, processing cache, and vector storage
      PDFKB_CACHE_DIR: "/app/cache"

      # Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
      PDFKB_LOG_LEVEL: "${PDFKB_LOG_LEVEL:-INFO}"

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­Ъїљ TRANSPORT & SERVER CONFIGURATION                                                  Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # Transport mode: stdio (default), http, sse
      PDFKB_TRANSPORT: "${PDFKB_TRANSPORT:-http}"

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­ЪДа EMBEDDING CONFIGURATION                                                           Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # РћЂРћЂРћЂ EMBEDDING PROVIDER РћЂРћЂРћЂ
      # Choose: "local", "openai", "huggingface"
      PDFKB_EMBEDDING_PROVIDER: "openai"

      # РћЂРћЂРћЂ LOCAL EMBEDDINGS (No API key required - runs entirely offline) РћЂРћЂРћЂ
      # Recommended local models:
      # - Qwen/Qwen3-Embedding-0.6B (lightweight, good quality)
      # - Qwen/Qwen3-Embedding-8B (high quality, more resource intensive)
      PDFKB_LOCAL_EMBEDDING_MODEL: "Qwen/Qwen3-Embedding-8B"
      PDFKB_LOCAL_EMBEDDING_BATCH_SIZE: "32"
      PDFKB_EMBEDDING_DEVICE: "cuda"  # Default to CUDA device for faster embeddings
      PDFKB_EMBEDDING_CACHE_SIZE: "10000"
      PDFKB_MAX_SEQUENCE_LENGTH: "512"
      PDFKB_USE_MODEL_OPTIMIZATION: "false"  # Disabled due to torch.compile issues
      PDFKB_MODEL_CACHE_DIR: "~/.cache/pdfkb-mcp/models"
      PDFKB_EMBEDDING_DIMENSION: "0"  # 0 = use model default
      PDFKB_GGUF_QUANTIZATION: "Q6_K"  # GGUF quantization: Q8_0, F16, Q6_K, Q4_K_M
      PDFKB_FALLBACK_TO_OPENAI: "false"

      # РћЂРћЂРћЂ OPENAI / OPENAI-COMPATIBLE EMBEDDINGS РћЂРћЂРћЂ
      # Set these if using PDFKB_EMBEDDING_PROVIDER="openai"
      # Prefer setting API keys via environment or an external .env file.
      # Never commit plain secrets into git.
      PDFKB_OPENAI_API_KEY: "${PDFKB_OPENAI_API_KEY:-}"
      # PDFKB_OPENAI_API_BASE: ""  # Leave empty for OpenAI, or set custom endpoint (e.g., DeepInfra)
      PDFKB_OPENAI_API_BASE: "https://api.deepinfra.com/v1"  # Leave empty for OpenAI, or set custom endpoint (e.g., DeepInfra)
      # PDFKB_EMBEDDING_MODEL: "text-embedding-3-large"  # OpenAI model
      PDFKB_EMBEDDING_MODEL: "Qwen/Qwen3-Embedding-8B"  # OpenAI model
      # PDFKB_EMBEDDING_BATCH_SIZE: "100"
      PDFKB_EMBEDDING_BATCH_SIZE: "100"

      # РћЂРћЂРћЂ EXAMPLE: DeepInfra (OpenAI-compatible) РћЂРћЂРћЂ
      # PDFKB_EMBEDDING_PROVIDER: "openai"
      # PDFKB_OPENAI_API_KEY: "YOUR-DEEPINFRA-API-KEY"
      # PDFKB_OPENAI_API_BASE: "https://api.deepinfra.com/v1"
      # PDFKB_EMBEDDING_MODEL: "Qwen/Qwen3-Embedding-8B"

      # РћЂРћЂРћЂ HUGGINGFACE EMBEDDINGS РћЂРћЂРћЂ
      # Set these if using PDFKB_EMBEDDING_PROVIDER="huggingface"
      # HF_TOKEN: "hf_YOUR-HUGGINGFACE-TOKEN-HERE"
      # PDFKB_HUGGINGFACE_EMBEDDING_MODEL: "sentence-transformers/all-MiniLM-L6-v2"
      # PDFKB_HUGGINGFACE_PROVIDER: ""  # Optional provider like "nebius"

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­Ъїљ UNIFIED SERVER CONFIGURATION                                                      Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # Enable web interface + MCP endpoints on same port (default: false)
      PDFKB_WEB_ENABLE: "true"

      # Unified server host and port (serves both web interface and MCP endpoints)
      PDFKB_WEB_HOST: "0.0.0.0"
      PDFKB_WEB_PORT: "8000"

      # CORS origins for web interface (comma-separated)
      PDFKB_WEB_CORS_ORIGINS: "http://localhost:3000,http://127.0.0.1:3000"

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­ЪЊё DOCUMENT PROCESSING CONFIGURATION                                                Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # РћЂРћЂРћЂ PDF PARSER SELECTION РћЂРћЂРћЂ
      # Choose: "pymupdf4llm" (default), "marker", "docling", "mineru", "unstructured", "llm"
      PDFKB_PDF_PARSER: "${PDFKB_PDF_PARSER:-pymupdf4llm}"

      # РћЂРћЂРћЂ DOCUMENT CHUNKER SELECTION РћЂРћЂРћЂ
      # Choose: "langchain" (default), "semantic", "page", "unstructured"
      PDFKB_DOCUMENT_CHUNKER: "${PDFKB_DOCUMENT_CHUNKER:-langchain}"

      # РћЂРћЂРћЂ CHUNKING PARAMETERS РћЂРћЂРћЂ
      PDFKB_CHUNK_SIZE: "${PDFKB_CHUNK_SIZE:-1000}"
      PDFKB_CHUNK_OVERLAP: "${PDFKB_CHUNK_OVERLAP:-200}"
      PDFKB_MIN_CHUNK_SIZE: "0"  # Global minimum chunk size (0 = disabled)

      # РћЂРћЂРћЂ SUPPORTED FILE EXTENSIONS РћЂРћЂРћЂ
      # Automatically detected: .pdf, .md, .markdown

      # РћЂРћЂРћЂ MARKDOWN-SPECIFIC CONFIGURATION РћЂРћЂРћЂ
      PDFKB_MARKDOWN_PARSE_FRONTMATTER: "true"  # Parse YAML/TOML frontmatter
      PDFKB_MARKDOWN_EXTRACT_TITLE: "true"      # Extract title from first H1
      PDFKB_MARKDOWN_PAGE_BOUNDARY_PATTERN: "--\\[PAGE:\\s*(\\d+)\\]--"  # Page pattern
      PDFKB_MARKDOWN_SPLIT_ON_PAGE_BOUNDARIES: "true"

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­ЪћЇ SEARCH & RETRIEVAL CONFIGURATION                                                 Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # РћЂРћЂРћЂ HYBRID SEARCH (Vector + BM25) РћЂРћЂРћЂ
      PDFKB_ENABLE_HYBRID_SEARCH: "true"
      PDFKB_HYBRID_VECTOR_WEIGHT: "0.6"        # Semantic search weight
      PDFKB_HYBRID_TEXT_WEIGHT: "0.4"          # BM25 search weight
      PDFKB_RRF_K: "60"                        # RRF constant parameter
      PDFKB_HYBRID_EXPANSION_FACTOR: "2.0"     # Expansion factor for better fusion
      PDFKB_HYBRID_MAX_EXPANDED_LIMIT: "30"    # Maximum expanded limit

      # РћЂРћЂРћЂ VECTOR SEARCH PARAMETERS РћЂРћЂРћЂ
      PDFKB_VECTOR_SEARCH_K: "5"               # Number of results to return

      # РћЂРћЂРћЂ BM25 SEARCH PARAMETERS РћЂРћЂРћЂ
      PDFKB_WHOOSH_ANALYZER: "standard"        # Whoosh analyzer type
      PDFKB_WHOOSH_MIN_SCORE: "0.0"           # Minimum BM25 score threshold

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­Ъџђ PERFORMANCE & PROCESSING CONFIGURATION                                           Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # РћЂРћЂРћЂ PARALLEL PROCESSING LIMITS РћЂРћЂРћЂ
      # Control concurrent operations to prevent resource exhaustion
      # Lower defaults here to reduce concurrent GPU memory pressure when using Marker
      PDFKB_MAX_PARALLEL_PARSING: "1"
      PDFKB_MAX_PARALLEL_EMBEDDING: "1"
      PDFKB_BACKGROUND_QUEUE_WORKERS: "1"
      PDFKB_THREAD_POOL_SIZE: "1"
      # PyTorch allocation tuning to reduce fragmentation (helps avoid small OOMs)
      PYTORCH_CUDA_ALLOC_CONF: "expandable_segments:True"

      # РћЂРћЂРћЂ FILE MONITORING РћЂРћЂРћЂ
      PDFKB_FILE_SCAN_INTERVAL: "60"           # Seconds between file scans

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­ЪДа ADVANCED AI FEATURES                                                             Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # РћЂРћЂРћЂ RERANKING (Improves search quality) РћЂРћЂРћЂ
      PDFKB_ENABLE_RERANKER: "true"           # Enable for better search results
      PDFKB_RERANKER_PROVIDER: "deepinfra"         # "local" or "deepinfra"
      PDFKB_RERANKER_MODEL: "Qwen/Qwen3-Reranker-0.6B"
      PDFKB_RERANKER_SAMPLE_ADDITIONAL: "5"    # Additional results to sample
      PDFKB_RERANKER_DEVICE: ""                # Auto-detect device
      PDFKB_RERANKER_MODEL_CACHE_DIR: "~/.cache/pdfkb-mcp/reranker"
      PDFKB_RERANKER_GGUF_QUANTIZATION: ""     # GGUF quantization (Q6_K, Q8_0, etc.)

  # РћЂРћЂРћЂ DeepInfra Reranking (Alternative) РћЂРћЂРћЂ
  # PDFKB_RERANKER_PROVIDER: "deepinfra"
  PDFKB_DEEPINFRA_API_KEY: "${PDFKB_DEEPINFRA_API_KEY:-}"
  PDFKB_DEEPINFRA_RERANKER_MODEL: "Qwen/Qwen3-Reranker-8B"

      # РћЂРћЂРћЂ DOCUMENT SUMMARIZATION РћЂРћЂРћЂ
      PDFKB_ENABLE_SUMMARIZER: "false"         # Enable document summarization
      PDFKB_SUMMARIZER_PROVIDER: "local"       # "local" or "remote"
      PDFKB_SUMMARIZER_MODEL: "gpt-4"          # Model for summarization
      PDFKB_SUMMARIZER_MAX_PAGES: "10"         # Max pages to use for summarization
      PDFKB_SUMMARIZER_DEVICE: ""              # Auto-detect device (local only)
      PDFKB_SUMMARIZER_MODEL_CACHE_DIR: "~/.cache/pdfkb-mcp/summarizer"
      # Optional Redis settings for ContextShiftManager session scopes
      # Enable Redis usage for context scopes (set to "true" to enable)
      PDFKB_USE_SCOPE_REDIS: "${PDFKB_USE_SCOPE_REDIS:-true}"
      # When using docker-compose, point to the internal redis service hostname
      PDFKB_SCOPE_REDIS_URL: "${PDFKB_SCOPE_REDIS_URL:-redis://redis:6379/0}"

      # РћЂРћЂРћЂ Remote Summarizer Configuration РћЂРћЂРћЂ
      # PDFKB_SUMMARIZER_PROVIDER: "remote"
      # PDFKB_SUMMARIZER_API_BASE: "https://api.deepinfra.com/v1"
      # PDFKB_SUMMARIZER_API_KEY: "YOUR-API-KEY"
      # PDFKB_SUMMARIZER_MODEL: "openai/gpt-oss-20b"

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ РџЎ№ИЈ  ADVANCED PARSER CONFIGURATIONS                                                   Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # РћЂРћЂРћЂ DOCLING PARSER CONFIGURATION РћЂРћЂРћЂ
      # Set these if using PDFKB_PDF_PARSER="docling"
      PDFKB_DOCLING_OCR_ENGINE: "easyocr"      # OCR engine: easyocr, tesseract
      PDFKB_DOCLING_OCR_LANGUAGES: "en"        # Comma-separated: "en,es,fr,de"
      PDFKB_DOCLING_TABLE_MODE: "FAST"         # Table processing: FAST, ACCURATE
      PDFKB_DOCLING_FORMULA_ENRICHMENT: "false" # Enable formula processing
      PDFKB_DOCLING_PROCESSING_TIMEOUT: "300"  # Processing timeout in seconds
      PDFKB_DOCLING_DEVICE: "auto"             # Device: auto, cpu, cuda, mps
      PDFKB_DOCLING_MAX_PAGES: "0"             # Max pages (0 = unlimited)

      # РћЂРћЂРћЂ MARKER PARSER CONFIGURATION РћЂРћЂРћЂ
      # Set these if using PDFKB_PDF_PARSER="marker"
      PDFKB_MARKER_USE_LLM: "false"            # Use LLM for enhanced processing
      PDFKB_MARKER_LLM_MODEL: "google/gemini-2.5-flash-lite"
      PDFKB_OPENROUTER_API_KEY: ""             # OpenRouter API key

      # РћЂРћЂРћЂ MINERU PARSER CONFIGURATION РћЂРћЂРћЂ
      # Set these if using PDFKB_PDF_PARSER="mineru"
      PDFKB_MINERU_LANG: "en"                  # Language: en, zh, etc.
      PDFKB_MINERU_METHOD: "auto"              # Processing method
      PDFKB_MINERU_VRAM: "16"                  # VRAM allocation (GB)

      # РћЂРћЂРћЂ UNSTRUCTURED PARSER CONFIGURATION РћЂРћЂРћЂ
      # Set these if using PDFKB_PDF_PARSER="unstructured"
      PDFKB_UNSTRUCTURED_PDF_PROCESSING_STRATEGY: "fast"  # "fast" or "hi_res"

      # РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
      # Рћѓ ­ЪћД ADVANCED CHUNKING CONFIGURATIONS                                                 Рћѓ
      # РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

      # РћЂРћЂРћЂ SEMANTIC CHUNKING CONFIGURATION РћЂРћЂРћЂ
      # Set these if using PDFKB_DOCUMENT_CHUNKER="semantic"
      PDFKB_SEMANTIC_CHUNKER_THRESHOLD_TYPE: "percentile"  # percentile, standard_deviation, interquartile, gradient
      PDFKB_SEMANTIC_CHUNKER_THRESHOLD_AMOUNT: "95.0"
      PDFKB_SEMANTIC_CHUNKER_BUFFER_SIZE: "1"
      PDFKB_SEMANTIC_CHUNKER_NUMBER_OF_CHUNKS: ""          # Optional limit
      PDFKB_SEMANTIC_CHUNKER_SENTENCE_SPLIT_REGEX: "(?<=[.?!])\\s+"
      PDFKB_SEMANTIC_CHUNKER_MIN_CHUNK_SIZE: ""            # Optional minimum
      PDFKB_SEMANTIC_CHUNKER_MIN_CHUNK_CHARS: "100"

      # РћЂРћЂРћЂ PAGE CHUNKING CONFIGURATION РћЂРћЂРћЂ
      # Set these if using PDFKB_DOCUMENT_CHUNKER="page"
      PDFKB_PAGE_CHUNKER_MIN_CHUNK_SIZE: "100"
      PDFKB_PAGE_CHUNKER_MAX_CHUNK_SIZE: ""                # Optional maximum
      PDFKB_PAGE_CHUNKER_MERGE_SMALL: "true"               # Merge small chunks

    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­ЪЈЦ HEALTH CHECK & RESOURCE LIMITS
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    # Health check for container orchestration
    healthcheck:
      test: ["CMD", "/usr/bin/curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      start_period: 60s
      retries: 3

    # Resource limits - adjust based on your system capabilities
    deploy:
      resources:
        limits:
          cpus: '4.0'          # Increase for better performance
          memory: 12G           # Increase for large document collections
        reservations:
          cpus: '1.0'
          memory: 2G
          devices:
            - capabilities: [gpu]
    # For docker-compose (non-swarm) use the `gpus` key to request GPUs at runtime
    gpus: all

    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­Ъћњ SECURITY & USER CONFIGURATION
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    # Security settings
#   security_opt:
#     - no-new-privileges:true

    # Use non-root user (defined in Dockerfile)
    user: "1001:1001"

    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­ЪЊІ LOGGING CONFIGURATION
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    # Logging configuration
    logging:
      driver: json-file
      options:
        max-size: "10m"
        max-file: "3"

    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
    # ­Ъїљ NETWORK CONFIGURATION
    # РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

    # Network settings (creates isolated network)
    networks:
      - pdfkb-network

  redis:
    image: redis:7-alpine
    container_name: pdfkb-redis
    restart: unless-stopped
    ports:
      - "6379:6379"
    volumes:
      - pdfkb-redis:/data
    networks:
      - pdfkb-network

# РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
# ­ЪњЙ PERSISTENT VOLUMES
# РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

# Named volumes for data persistence
volumes:
  # Cache volume for ChromaDB, vector storage, and processing cache
  pdfkb-cache:
    driver: local
    # Optional: Use bind mount for easy access
    # driver_opts:
    #   type: none
    #   o: bind
    #   device: /path/to/local/cache

  # Logs volume for container logs
  pdfkb-logs:
    driver: local
  # Redis data volume for optional session scope persistence
  pdfkb-redis:
    driver: local

# РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
# ­Ъїљ NETWORK DEFINITION
# РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ

# Isolated network for the application
networks:
  pdfkb-network:
    driver: bridge
    name: pdfkb-network

# РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
# ­ЪЊЮ CONFIGURATION NOTES
# РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
#
# ­Ъџђ QUICK START:
# 1. Copy this file to docker-compose.yml
# 2. Update the documents volume path: /path/to/your/documents
# 3. Choose your embedding provider (local is easiest to start)
# 4. If using remote APIs, set your API keys
# 5. Run: podman-compose up -d
#
# ­Ъј» RECOMMENDED CONFIGURATIONS:
#
# ­Ъњ╗ Local/Offline Setup (No API keys required):
#   - PDFKB_EMBEDDING_PROVIDER: "local"
#   - PDFKB_PDF_PARSER: "pymupdf4llm"
#   - PDFKB_ENABLE_HYBRID_SEARCH: "true"
#   - PDFKB_ENABLE_RERANKER: "false"
#
# ­Ъїљ Cloud/High-Performance Setup:
#   - PDFKB_EMBEDDING_PROVIDER: "openai"
#   - Set PDFKB_OPENAI_API_KEY and PDFKB_OPENAI_API_BASE
#   - PDFKB_ENABLE_RERANKER: "true"
#   - PDFKB_RERANKER_PROVIDER: "deepinfra"
#
# ­ЪћД Performance Tuning:
#   - Increase resource limits (CPU/Memory)
#   - Adjust PDFKB_MAX_PARALLEL_* settings
#   - Use faster parsers for large documents
#   - Enable reranking for better search quality
#
# ­Ъћљ Security:
#   - Never commit API keys to version control
#   - Use environment variables or Docker secrets
#   - Keep the container updated
#
# РЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљ
